While implementing this example, I have benefited from:
https://medium.com/dev-genius/writing-custom-platform-specific-code-in-flutter-app-method-channel-a4c49bf3f4f2

You should run it on an iOS device, not the simulator. I could not get battery info for the simulator for some reason.

